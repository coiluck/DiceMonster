<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/top.css">
  <link rel="stylesheet" href="./css/game.css">
  <link rel="stylesheet" href="./css/result.css">
  <link rel="stylesheet" href="./css/pause.css">
  <link rel="stylesheet" href="./css/settings.css">
  <link rel="stylesheet" href="./css/difficulty.css">
  <link rel="stylesheet" href="./css/rule.css">
  <link rel="stylesheet" href="./css/item.css">
  <link rel="stylesheet" href="./css/buff.css">
  <link rel="stylesheet" href="./css/endGame.css">
  <link rel="stylesheet" href="./css/tooltip.css">
  <link rel="stylesheet" href="./css/message.css">
  <title>六面天運 - サイコロローグライク - </title>
  <link rel="icon" href="./assets/images/favicon.ico">
  <meta property="og:title" content="六面天運">
  <meta property="og:description" content="振って、揃えて、運命を覆せ">
  <meta property="og:image" content="./assets/images/favicon.icon">
  <meta property="og:url" content="https://coiluck.moe/DiceMonster/">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="六面天運">
  <meta name="twitter:description" content="振って、揃えて、運命を覆せ">
  <meta name="twitter:image" content="./assets/images/favicon.avif">
</head>
<body>
  <!-- 背景 -->
  <div class="body-background-wrapper">
    <img src="./assets/images/background_ruins.avif" alt="神秘的な背景" class="body-background-image">
    <div class="body-overlay"></div>
  </div>

  <div id="modal-top" class="modal">
    <div class="top-container">
      <div class="top-header">
        <div class="top-header-title">
          <h1 class="top-main-title ">六面天運</h1>
          <div class="settings-icon"></div>
        </div>
        <div class="top-header-sub">
          <p class="top-sub-title">
            <span class="top-sub-title-text">振って、揃えて、運命を覆せ</span>
            <img src="./assets/images/favicon.webp" alt="dice" class="top-dice-image">
          </p>
          <img src="./assets/images/player.png" alt="playerImage" class="top-player-image">
        </div>
      </div>
      <div class="top-button-container">
        <button class="top-button top-continue-button">
          <span class="top-button-text">前回の冒険から</span>
          <span class="top-button-subtext">物語を紡ぎ直す</span>
        </button>
        <button class="top-button top-new-button">
          <span class="top-button-text">新たな旅を始める</span>
          <span class="top-button-subtext">未知の運命へ</span>
        </button>
        <button class="top-button top-rules-button">
          <span class="top-button-text">冒険の掟を知る</span>
          <span class="top-button-subtext">運命に抗う術を</span>
        </button>
      </div>
    </div>
  </div>
  
  <div id="modal-difficulty" class="modal">
    <div class="difficulty-container">
      <h2>難易度を選択してください</h2>
      <div class="difficulty-buttons">
        <button class="difficulty-button" id="difficulty-easy">
          <span class="difficulty-icon"><img src="./assets/images/easy.avif" alt="easy"></span>
          <span class="difficulty-text">EASY</span>
        </button>
        <button class="difficulty-button" id="difficulty-normal">
          <span class="difficulty-icon"><img src="./assets/images/player.png" alt="normal"></span>
          <span class="difficulty-text">NORMAL</span>
        </button>
        <button class="difficulty-button" id="difficulty-hard">
          <span class="difficulty-icon"><img src="./assets/images/hard.avif" alt="hard"></span>
          <span class="difficulty-text">HARD</span>
        </button>
      </div>
      <button id="difficulty-close-button">Close</button>
    </div>
  </div>

  <div id="modal-settings" class="modal">
    <div class="settings-container">
      <div class="settings-header">
        <h1>SETTINGS</h1>
      </div>
      <div class="setting-item">
        <label class="setting-label">Language / 言語</label>
          <div class="language-toggle">
            <button class="lang-btn active" id="btn-ja">日本語</button>
            <button class="lang-btn" id="btn-en">English</button>
          </div>
        </div>
      <div class="setting-divider"></div>
      <div class="setting-item">
        <label class="setting-label">BGM Volume / BGM音量</label>
        <div class="volume-control">
            <input type="range" min="0" max="100" value="40" class="volume-slider" id="bgm-volume">
          <div class="volume-value"><span id="bgm-value">40</span>%</div>
        </div>
      </div>
      <div class="setting-divider"></div>
      <div class="setting-item">
        <label class="setting-label">SE Volume / SE音量</label>
        <div class="volume-control">
          <input type="range" min="0" max="100" value="80" class="volume-slider" id="se-volume">
          <div class="volume-value"><span id="se-value">80</span>%</div>
        </div>
      </div>
      <button id="settings-close-button">Close</button>
    </div>
  </div>

  <div id="modal-rules" class="modal">
    <div class="rules-container">
      <h2>ゲームについて</h2>
      <div class="rules-section">
        <div class="rules-item" id="rules-item-1">
          <div class="rules-item-image-container"><img src="./assets/images/rules/ja_main.avif"></div>
          <div class="rules-item-text-container">
            <h3>ゲームの目的と流れ</h3>
            <p>
              サイコロを振って役を作り、出現する敵をすべて倒してラウンドクリアを目指すゲームです。
              
              「ダイスを振る」→「役で攻撃」→「敵の攻撃」の順でターンが進行します。
            </p>
          </div>
        </div>
        <div class="rules-item" id="rules-item-2">
          <div class="rules-item-image-container"><img src="./assets/images/rules/areas.avif"></div>
          <div class="rules-item-text-container">
            <h3>戦闘画面の見方</h3>
            <p>
              ① プレイヤー情報: あなたのHP、スキルポイント、そして攻撃力アップなどの強化（バフ）状態が表示されます。
              ② 敵情報: 敵の残りHPと攻撃力が表示されています。
              ③ ダイスエリア: ここに振られたサイコロが表示されます。成立している「役（ハンド）」と、その効果も確認できます。
              ④ スキル: スキルポイントを消費して、戦闘を有利にするスキルを使用できます。初期状態では持っていません
              ⑤ 行動ボタン: ダイスを振る、振り直す（リロール）、攻撃するなど、あなたの行動を選択します。
            </p>
          </div>
        </div>
        <div class="rules-item" id="rules-item-3">
          <div class="rules-item-image-container"><img src="./assets/images/rules/ja_dice_and_hand.avif"></div>
          <div class="rules-item-text-container">
            <h3>ダイスと役</h3>
            <p>
              4つのサイコロを振り、ポーカーのような「役」を作って攻撃します。役が強いほど、ダメージが大きくなったり、強力な追加効果が発動したりします。
              
              サイコロを振った後は1ターンに2回まで、好きな個数を選んで振り直す「リロール」が可能です。そのまま振らずに残したいサイコロをクリックすると、サイコロの枠が赤色になり「ホールド状態」になります。
            </p>
          </div>
        </div>
        <div class="rules-item" id="rules-item-4">
          <div class="rules-item-image-container"><img src="./assets/images/rules/ja_skills.avif"></div>
          <div class="rules-item-text-container">
            <h3>戦況を覆すスキル</h3>
            <p>
              役を揃えると「スキルポイント」が溜まります。獲得するスキルポイントの量は役の強さに応じて異なります。
              
              スキルポイントを消費して、戦闘を有利に進める「スキル」を発動できます。「ダイスの出目を操作する」「敵全体にダメージを与える」など、効果は様々です。絶好のタイミングで使って戦いを有利に運びましょう。
            </p>
          </div>
        </div>
        <div class="rules-item" id="rules-item-5">
          <div class="rules-item-image-container"><img src="./assets/images/rules/ja_enemy.avif"></div>
          <div class="rules-item-text-container">
            <h3>敵の固有能力</h3>
            <p>
              冒険の道中では、特殊な能力を持つ敵が多数出現します。特殊な能力を持つ敵は青色の枠をしており、マウスをホバーすると能力が確認できます。
              
              例えば以下のような敵がいます
              ・腐敗したシカ: 出目の合計が「偶数」の時しかダメージを与えられない
              ・星を紡ぐ者: 出目の合計が「素数」の時にダメージが2倍になる
              
              また、ボスも強力な能力を有しています。青い枠の敵やボスが出てきたら、能力を確認してみてください。
            </p>
          </div>
        </div>
        <div class="rules-item" id="rules-item-6">
          <div class="rules-item-image-container"><img src="./assets/images/rules/pause.avif"></div>
          <div class="rules-item-text-container">
            <h3>ゲームの中断</h3>
            <p>
              「Esc」キーを押すと、様々なボタンが現れます。
              「Save & Quit」を押すと現在の状態が保存され、Topの「前回の冒険から」を押すことで中断したところから再開できます。
            </p>
          </div>
        </div>
      </div>    
      <button id="rules-close-button">Close</button>
    </div>
  </div>

  <div id="modal-game" class="modal">
    <div class="game-container">
      <div id="enemy-container">
        <div class="card enemy" data-enemy-id="1" data-unique-id="1" data-enemy-hp="10">
          <p class="enemy-attack">1</p>
          <p class="enemy-name">敵の名前</p>
          <img src="./assets/images/enemy/amethyst_devourer.avif">
          <p class="enemy-hp">HP: 10</p>
        </div>
        <div class="card enemy" data-enemy-id="4" data-unique-id="2" data-enemy-hp="10">
          <p class="enemy-attack">2</p>
          <p class="enemy-name">腐敗したシカ</p>
          <img src="./assets/images/enemy/rotted_deer.avif">
          <p class="enemy-hp">HP: 10</p>
        </div>
        <div class="card boss" data-enemy-id="13" data-unique-id="3" data-enemy-hp="10">
          <p class="enemy-attack">3</p>
          <p class="enemy-name">天を喰らう咆哮</p>
          <img src="./assets/images/enemy/roar_of_destruction.avif">
          <p class="enemy-hp">HP: 10</p>
        </div>
        <div class="card enemy" data-enemy-id="4" data-unique-id="4" data-enemy-hp="10">
          <p class="enemy-attack">4</p>
          <p class="enemy-name">腐敗したシカ</p>
          <img src="./assets/images/enemy/rotted_deer.avif">
          <p class="enemy-hp">HP: 10</p>
        </div>
      </div>
      <div id="player-container">
        <div class="player-container-left">
          <button id="item-button" class="player-container-left-button">アイテム</button>
          <button id="pair-button" class="player-container-left-button">役の一覧</button>
        </div>
        <div class="player-container-center-and-right">
          <div class="player-container-center">
            <div class="dice-area">
              <div class="dice">3</div>
              <div class="dice">5</div>
              <div class="dice">1</div>
              <div class="dice">3</div>
            </div>
            <div class="dice-hand-info">
              <h3 id="dice-hand-info-title">現在の役: <span>---</span></h3>
              <p id="dice-hand-info-effect-title">効果</p>
              <p id="dice-hand-info-effect-value">---</p>
            </div>
            <div class="dice-buttons">
              <div class="button-group-container">
                <div class="button-group" data-phase="1">
                  <button id="dice-roll-button">ダイスを振る</button>
                </div>
                <div class="button-group" data-phase="2">
                  <button id="dice-reroll-button">リロール（残り2回）</button>
                  <button id="dice-confirm-button">役を確定</button>
                </div>
                <div class="button-group" data-phase="3">
                  <button id="dice-attack-button">攻撃</button>
                </div>
              </div>
            </div>
          </div>
          <div class="player-container-right">
            <div class="card player">
              <h3>プレイヤー</h3>
              <div class="game-image-container"><img src="./assets/images/player.png" alt="playerImage"></div>
              <div class="player-card-container">
                <div class="status-bar hp">
                  <span class="label">HP: <span id="player-hp">50</span> / <span id="player-max-hp">50</span></span>
                  <div id="player-bar" style="width: 80%;"></div>
                </div>
                <div class="buff-container" id="player-buff-container">
                  <div class="buff buff-shield"><div class="buff-number">4</div></div>
                  <div class="buff buff-attack"><div class="buff-number">4</div></div>
                  <div class="buff buff-reduction"><div class="buff-number">4</div></div>
                </div>
                <p class="skill-point">
                  <span id="skill-point-label">スキルポイント: </span>
                  <span id="skill-point">0</span>
                </p>
                <div class="skills">
                  <button class="skill-btn" data-skill="turn">反転</button>
                  <button class="skill-btn" data-skill="round">進化</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="modal-result" class="modal">
    <div class="result-container">
      <div id="result-header">
        <p class="result-header-text">Stage Clear!</p>
        <p class="result-header-round">Round 1 &gt;&gt; 2</p>
      </div>
      <div id="result-content">
        <div class="result-choice-container">
          <p class="result-choice-container-title">以下の選択肢からひとつ選んでください</p>
          <div class="result-choice-container-wrapper">
            <div class="result-choice-container-item">
              <p class="result-choice-container-type">スキル</p>
              <p class="result-choice-container-item-title">選択肢1</p>
              <p class="result-choice-container-item-description">選択肢1の説明</p>
              <button class="result-choice-container-item-button">選択肢1</button>
            </div>
            <div class="result-choice-container-item">
              <p class="result-choice-container-type">アイテム</p>
              <p class="result-choice-container-item-title">選択肢2</p>
              <p class="result-choice-container-item-description">選択肢2の説明</p>
              <button class="result-choice-container-item-button">選択肢2</button>
            </div>
          </div>
        </div>
        <div class="result-choice-container">
          <p class="result-choice-container-title">以下の選択肢からひとつ選んでください</p>
          <div class="result-choice-container-wrapper">
            <div class="result-choice-container-item">
              <p class="result-choice-container-item-title">狂奮</p>
              <p class="result-choice-container-item-description">自分のHPを半分消費し、このラウンド中、与えるダメージ + 2 & ダメージ軽減 1 / 1</p>
              <button class="result-choice-container-item-button">ワンペアを使用</button>
            </div>
            <div class="result-choice-container-item">
              <p class="result-choice-container-item-title">王家の紋章</p>
              <p class="result-choice-container-item-description">「フルハウス」で減少させる敵の攻撃力がさらに-1される。</p>
              <button class="result-choice-container-item-button">選択肢4</button>
            </div>
          </div>
        </div>
      </div>
      <div id="result-player-card-background"></div>
      <div id="result-player-card-hidden">
        <p class="result-player-card-title">入れ替えるスキルを選択してください</p>
        <div id="result-player-card-container"></div>
      </div>
    </div>
  </div>

  <div id="modal-item">
    <h3>アイテム一覧</h3>
    <div class="item-list-container"></div>
    <button id="item-close-button">Close</button>
  </div>

  <div id="modal-pause" class="modal">
    <div id="pause-close-button-container">
      <div class="pause-close-button"></div>
    </div>
    <div class="pause-container">
      <button class="pause-button" id="pause-resume-button">Resume</button>
      <button class="pause-button" id="pause-restart-button">Restart</button>
      <button class="pause-button" id="pause-settings-button">Settings</button>
      <button class="pause-button" id="pause-quit-button">Save & Quit</button>
    </div>
  </div>

  <div id="modal-endgame" class="modal">
    <div class="endgame-container">
      <h1 class="endgame-title gameover">Game Over!</h1>
      <p class="endgame-subtitle">— ここにサブタイトルを入れます —</p>
      <div class="endgame-stats">
        <div class="endgame-stat-item">
          <span class="endgame-stat-label">最終ラウンド</span>
          <span class="endgame-stat-value">12</span>
        </div>
        <div class="endgame-stat-item">
          <span class="endgame-stat-label">総ターン数</span>
          <span class="endgame-stat-value">42</span>
        </div>
        <div class="endgame-stat-item">
          <span class="endgame-stat-label">毎ターンの平均ダメージ</span>
          <span class="endgame-stat-value">19</span>
        </div>
        <div class="endgame-stat-item">
          <span class="endgame-stat-label">所持アイテム数</span>
          <span class="endgame-stat-value">14</span>
        </div>
      </div>
      <div class="endgame-buttons">
        <button class="endgame-btn" id="endgame-restart-button">
          <span>Restart</span>
        </button>
        <button class="endgame-btn" id="endgame-main-menu-button">
          <span>Main Menu</span>
        </button>
      </div>
    </div>
  </div>

  <div id="message-box"></div>

  <script src="./js/top.js" type="module"></script>
  <script src="./js/game.js" type="module"></script>
  <script src="./js/pause.js" type="module"></script>
  <script src="./js/difficultly.js" type="module"></script>
  <script src="./js/settings.js" type="module"></script>
  <script src="./js/module/addToolTip.js" type="module"></script>
  <script src="./js/module/buff.js" type="module"></script>
  <script src="./js/module/gameSub.js" type="module"></script>
</body>
</html>